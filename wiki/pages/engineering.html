{% extends "layout.html" %}
{% block title %}Engineering{% endblock %}
{% block lead %}{% endblock %}
{% block page_content %}

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateX(20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.5s forwards;
  }

  /* Position the buttons on the image */
  .button-area {
    position: absolute;
    background-color: rgba(0, 128, 128, 0.01);
    color: white;
    border-radius: 50%;
    width: 100px;
    height: 100px;
    text-align: center;
    line-height: 80px;
    font-size: 16px;
    cursor: pointer;
    transition: transform 0.2s ease;
  }

  .button-area:hover {
    transform: scale(1.1);
  }

  .design-button { top: 50px; left: 52px; }
  .build-button { top: 57px; left: 206px; }
  .test-button { top: 205px; left: 194px; }
  .learn-button { top: 196px; left: 60px; }
</style>
</head>

<body class="m-0 font-sans bg-gray-100 flex">
<!-- Circle Container -->
<div id="circleContainer" class="relative">
  <!-- Image -->
  <img src="https://static.igem.wiki/teams/5425/page-elements/layout/design-3-66fb0bab07c60.webp" alt="Cycle Image" class="block" style="height:350px;width:350px;">

  <!-- Buttons replacing the clickable areas -->
  <div class="button-area design-button" onclick="showSection('design')"></div>
  <div class="button-area build-button" onclick="showSection('build')"></div>
  <div class="button-area test-button" onclick="showSection('test')"></div>
  <div class="button-area learn-button" onclick="showSection('learn')"></div>
</div>

<!-- Sections and slides for Learn, Design, Build, Test -->

<!-- Learn Section -->
<div id="learn" class="section-container fixed right-[8%] top-[18%] w-[55%] h-[48%] bg-white p-0 rounded-lg shadow-inner overflow-hidden hidden transition-all duration-300 ease-in-out">
  <div class="nav-buttons flex justify-center items-center gap-4 mt-4 relative">
    <button class="left-button absolute left-2 px-4 py-2 text-2xl bg-teal-500 text-white rounded-full cursor-pointer hover:bg-blue-800 transition-all duration-300 ease-in-out hover:-translate-y-1" onclick="prevSlide('learn')">&#9664;</button>
    <h2 class="text-center text-2xl font-bold">Learn</h2>
    <button class="right-button absolute right-2 px-4 py-2 text-2xl bg-teal-500 text-white rounded-full cursor-pointer hover:bg-blue-800 transition-all duration-300 ease-in-out hover:-translate-y-1" onclick="nextSlide('learn')">&#9654;</button>
  </div>
  
  <!-- Learn Slides -->
  <div class="slide active block opacity-100 animate-fade-in">
    <h2 class="text-2xl mb-4 text-center">Learn - Slide 1</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Introduction to the learning process. This slide explains the foundations of our learning approach and how it integrates into the project development.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Learn - Slide 2</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Here we dive deeper into the knowledge acquisition phase, outlining how research and team collaboration play a key role.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Learn - Slide 3</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Practical implementation of learning strategies. This slide discusses the tools and methods used to reinforce team skills.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Learn - Slide 4</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Summary of the learning phase. We review what has been learned and how it impacts the next stages of the project.
    </p>
  </div>
</div>

<!-- Design Section -->
<div id="design" class="section-container fixed right-[8%] top-[15%] w-[55%] h-[48%] bg-white p-0 rounded-lg shadow-inner overflow-hidden hidden transition-all duration-300 ease-in-out">
  <div class="nav-buttons flex justify-center items-center gap-4 mt-4 relative">
    <button class="left-button absolute left-2 px-4 py-2 text-2xl bg-teal-500 text-white rounded-full cursor-pointer hover:bg-blue-800 transition-all duration-300 ease-in-out hover:-translate-y-1" onclick="prevSlide('design')">&#9664;</button>
    <h2 class="text-center text-2xl font-bold">Design</h2>
    <button class="right-button absolute right-2 px-4 py-2 text-2xl bg-teal-500 text-white rounded-full cursor-pointer hover:bg-blue-800 transition-all duration-300 ease-in-out hover:-translate-y-1" onclick="nextSlide('design')">&#9654;</button>
  </div>
  
  <!-- Design Slides -->
  <div class="slide active block opacity-100 animate-fade-in">
    <h2 class="text-2xl mb-4 text-center">Design - Slide 1</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Overview of the design phase. This slide introduces the design thinking process applied in our project.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Design - Slide 2</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Design principles and approaches. This slide details the methods used to create a robust project blueprint.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Design - Slide 3</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Iterative design process. This slide explains how iterative feedback loops are integrated into the design process.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Design - Slide 4</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Final design considerations. This slide reviews the final design decisions before moving into the build phase.
    </p>
  </div>
</div>

<!-- Build Section -->
<div id="build" class="section-container fixed right-[8%] top-[15%] w-[55%] h-[48%] bg-white p-0 rounded-lg shadow-inner overflow-hidden hidden transition-all duration-300 ease-in-out">
  <div class="nav-buttons flex justify-center items-center gap-4 mt-4 relative">
    <button class="left-button absolute left-2 px-4 py-2 text-2xl bg-teal-500 text-white rounded-full cursor-pointer hover:bg-blue-800 transition-all duration-300 ease-in-out hover:-translate-y-1" onclick="prevSlide('build')">&#9664;</button>
    <h2 class="text-center text-2xl font-bold">Build</h2>
    <button class="right-button absolute right-2 px-4 py-2 text-2xl bg-teal-500 text-white rounded-full cursor-pointer hover:bg-blue-800 transition-all duration-300 ease-in-out hover:-translate-y-1" onclick="nextSlide('build')">&#9654;</button>
  </div>
  
  <!-- Build Slides -->
  <div class="slide active block opacity-100 animate-fade-in">
    <h2 class="text-2xl mb-4 text-center">Build - Slide 1</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Overview of the build phase. This slide introduces the implementation and development process.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Build - Slide 2</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Key challenges during the build phase. We outline the main obstacles and how they were addressed.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Build - Slide 3</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Collaboration and teamwork during the build. This slide focuses on how different team members contributed to the build phase.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Build - Slide 4</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Summary and next steps. This slide reviews the results of the build phase and introduces the testing phase.
    </p>
  </div>
</div>

<!-- Test Section -->
<div id="test" class="section-container fixed right-[8%] top-[15%] w-[55%] h-[48%] bg-white p-0 rounded-lg shadow-inner overflow-hidden hidden transition-all duration-300 ease-in-out">
  <div class="nav-buttons flex justify-center items-center gap-4 mt-4 relative">
    <button class="left-button absolute left-2 px-4 py-2 text-2xl bg-teal-500 text-white rounded-full cursor-pointer hover:bg-blue-800 transition-all duration-300 ease-in-out hover:-translate-y-1" onclick="prevSlide('test')">&#9664;</button>
    <h2 class="text-center text-2xl font-bold">Test</h2>
    <button class="right-button absolute right-2 px-4 py-2 text-2xl bg-teal-500 text-white rounded-full cursor-pointer hover:bg-blue-800 transition-all duration-300 ease-in-out hover:-translate-y-1" onclick="nextSlide('test')">&#9654;</button>
  </div>
  
  <!-- Test Slides -->
  <div class="slide active block opacity-100 animate-fade-in">
    <h2 class="text-2xl mb-4 text-center">Test - Slide 1</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Introduction to the testing phase. This slide outlines the goals and structure of the testing phase.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Test - Slide 2</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Testing methods and tools. We explain the tools used to ensure the project meets quality standards.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Test - Slide 3</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Test results and analysis. This slide provides an overview of the results from the testing phase.
    </p>
  </div>
  <div class="slide hidden opacity-0">
    <h2 class="text-2xl mb-4 text-center">Test - Slide 4</h2>
    <p class="text-base leading-relaxed text-center px-5 py-5">
      Conclusion of the testing phase. We summarize the outcomes and plan for the next iteration.
    </p>
  </div>
</div>

<!-- Iteration Rows -->
<div class="iterationRowContainer fixed w-[80vw] bottom-[10%] left-[10%] grid grid-cols-4 z-10">
  <div class="iterationRow font-medium text-2xl py-1 text-center border-b-4 border-[#114f85] transition-all duration-100 ease-linear cursor-pointer hover:-translate-y-1 hover:font-bold" onclick="goToSlide(0)">Iteration 1</div>
  <div class="iterationRow font-medium text-2xl py-1 text-center border-b-4 border-[#114f85] transition-all duration-100 ease-linear cursor-pointer hover:-translate-y-1 hover:font-bold" onclick="goToSlide(1)">Iteration 2</div>
  <div class="iterationRow font-medium text-2xl py-1 text-center border-b-4 border-[#114f85] transition-all duration-100 ease-linear cursor-pointer hover:-translate-y-1 hover:font-bold" onclick="goToSlide(2)">Iteration 3</div>
  <div class="iterationRow font-medium text-2xl py-1 text-center border-b-4 border-[#114f85] transition-all duration-100 ease-linear cursor-pointer hover:-translate-y-1 hover:font-bold" onclick="goToSlide(3)">Iteration 4</div>
</div>

<!-- JavaScript -->
<script>
  let currentSlides = { 
    learn: 0,
    design: 0,
    build: 0,
    test: 0
  };

  let currentSection = 'learn'; // Default section

  function rotateAndShowSection(sectionId, angle) {
    showSection(sectionId);
  }

  function showSection(sectionId) {
    document.querySelectorAll('.section-container').forEach(section => {
      section.classList.add('hidden');
      section.classList.remove('block');
    });
    document.getElementById(sectionId).classList.remove('hidden');
    document.getElementById(sectionId).classList.add('block');
    currentSection = sectionId;

    // Update iteration rows based on the number of slides in the section
    updateIterationRows(sectionId);

    // Show the first slide when switching sections
    currentSlides[sectionId] = 0;
    showSlide(sectionId, 0);
  }

  function updateIterationRows(sectionId) {
    let slides = document.querySelectorAll(`#${sectionId} .slide`);
    let iterationRows = document.querySelectorAll('.iterationRow');

    iterationRows.forEach((row, idx) => {
      if (idx < slides.length) {
        row.style.display = 'block';
      } else {
        row.style.display = 'none';
      }
    });
  }

  function showSlide(sectionId, index) {
    let slides = document.querySelectorAll(`#${sectionId} .slide`);
    slides.forEach(slide => {
      slide.classList.add('hidden', 'opacity-0');
      slide.classList.remove('block', 'opacity-100', 'animate-fade-in');
    });

    slides[index].classList.remove('hidden', 'opacity-0');
    slides[index].classList.add('block', 'opacity-100', 'animate-fade-in');

    currentSlides[sectionId] = index;

    // Update iteration row based on the current slide index
    document.querySelectorAll('.iterationRow').forEach((row, idx) => {
      if (idx === index) {
        row.classList.add('activeIteration');
        row.classList.add('border-b-8', 'border-[#3eabb1]');
        row.classList.remove('border-b-4', 'border-[#114f85]');
      } else {
        row.classList.remove('activeIteration');
        row.classList.add('border-b-4', 'border-[#114f85]');
        row.classList.remove('border-b-8', 'border-[#3eabb1]');
      }
    });
  }

  function nextSlide(sectionId) {
    let slides = document.querySelectorAll(`#${sectionId} .slide`);
    if (currentSlides[sectionId] < slides.length - 1) {
      showSlide(sectionId, currentSlides[sectionId] + 1);
    }
  }

  function prevSlide(sectionId) {
    if (currentSlides[sectionId] > 0) {
      showSlide(sectionId, currentSlides[sectionId] - 1);
    }
  }

  function goToSlide(index) {
    showSlide(currentSection, index);
  }

  // Initialize the page by showing the default section and updating iteration rows
  showSection(currentSection);
</script>

{% endblock %}
